(()=>{"use strict";function e(e,t){var n=t.deleteCard,r=t.addLike,o=t.openImagePopup,c=document.querySelector("#card-template").content.querySelector(".places__item").cloneNode(!0),i=c.querySelector(".card__image"),a=c.querySelector(".card__like-button");return i.src=e.link,i.alt=e.name,i.addEventListener("click",(function(){return o(e.link,e.name)})),c.querySelector(".card__title").textContent=e.name,c.querySelector(".card__delete-button").addEventListener("click",n),a.addEventListener("click",(function(){return r(a)})),c}function t(e){var t=e.target.closest(".places__item");t?t.remove():console.error("Unable to find the parent card element.")}function n(e){e.classList.toggle("card__like-button_is-active")}function r(e){if("Escape"===e.key){var t=document.querySelector(".popup_is-opened");t&&c(t)}}function o(e){e.classList.add("popup_is-animated"),setTimeout((function(){e.classList.add("popup_is-opened")}),1),e.addEventListener("click",i),document.addEventListener("keydown",r)}function c(e){e.classList.remove("popup_is-opened"),e.classList.add("popup_is-animated"),document.removeEventListener("keydown",r),e.removeEventListener("click",i)}function i(e){var t=e.currentTarget;e.target===t&&c(t)}function a(e,t){var n=Array.from(e.querySelectorAll(t.inputSelector)),r=e.querySelector(t.submitButtonSelector);n.forEach((function(n){!function(e,t,n){var r=e.querySelector(".".concat(n.inputErrorClass,"_").concat(t.name));t.classList.remove(n.inputErrorClass),r.textContent="",r.classList.remove(n.errorClass)}(e,n,t)})),function(e,t,n){t?(e.removeAttribute("disabled"),e.classList.remove(n.inactiveButtonClass)):(e.setAttribute("disabled",!0),e.classList.add(n.inactiveButtonClass))}(r,!1,t)}var u=document.querySelector(".places__list"),p=document.querySelector(".popup_type_edit"),s=document.querySelector(".popup_type_new-card"),d=document.querySelector(".popup_type_image"),l=document.querySelector(".profile__edit-button"),_=document.querySelector(".profile__add-button"),m=p.querySelector(".popup__close"),v=s.querySelector(".popup__close"),f=d.querySelector(".popup__close"),y=document.forms["edit-profile"],k=y.querySelector(".popup__input_type_name"),S=y.querySelector(".popup__input_type_description"),q=document.forms["new-place"],L=q.querySelector(".popup__input_type_card-name"),g=q.querySelector(".popup__input_type_url"),E=document.querySelector(".profile__title"),C=document.querySelector(".profile__description"),b=d.querySelector(".popup__image"),h=d.querySelector(".popup__caption");function x(e,t){b.src=e,b.alt=t,h.textContent=t,o(d)}[{name:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg"},{name:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg"},{name:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg"},{name:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg"},{name:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg"},{name:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg"}].forEach((function(r){!function(e,t){t.append(e)}(e(r,{deleteCard:t,addLike:n,openImagePopup:x}),u)})),m.addEventListener("click",(function(){return c(p)})),v.addEventListener("click",(function(){return c(s)})),f.addEventListener("click",(function(){return c(d)})),l.addEventListener("click",(function(){o(p);var e=E.textContent,t=C.textContent;k.value=e,S.value=t})),_.addEventListener("click",(function(){return o(s)})),y.addEventListener("submit",(function(e){!function(e){e.preventDefault();var t=k.value,n=S.value;E.textContent=t,C.textContent=n,c(p)}(e),a(y,validationConfig)})),q.addEventListener("submit",(function(r){!function(r){r.preventDefault();var o=e({name:L.value,link:g.value},{deleteCard:t,addLike:n,openImagePopup:x});u.prepend(o),c(s),q.reset()}(r),a(q,validationConfig)}))})();